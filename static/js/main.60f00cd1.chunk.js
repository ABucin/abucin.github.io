(this["webpackJsonpcovid-dashboard"]=this["webpackJsonpcovid-dashboard"]||[]).push([[0],{173:function(e,t,a){},284:function(e,t,a){e.exports=a(428)},289:function(e,t,a){},291:function(e,t,a){},428:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(14),i=a.n(o),s=(a(289),a(155)),c=a.n(s),l=a(230),d=a(106),u=a(107),h=a(108),p=a(116),m=a(117),f=(a(291),a(109)),v=a.n(f),y=(a(173),a(231)),C=a(240),g=a.n(C),w=a(245),x=a.n(w),b=a(246),k=a.n(b),E="#ff7f7f",D=window.innerWidth<750,T=function(e,t){return e>0?t?"#009090":E:e<0?t?E:"#009090":"#efdea4"},O=D?{fontSize:D?14:12,display:"flex",alignItems:"center",justifyContent:"center"}:{margin:5};var j=function(e){var t=e.currentCount-e.previousCount||0,a=Math.trunc(100*t/e.previousCount*10)/10||0,r=t>0?"+":"";return n.a.createElement("span",{className:"status",style:O},e.text,": ",e.currentCount," (",n.a.createElement("span",{style:{color:T(t,e.reverse)}},r,t," / ",r,a,"%"),")",function(e,t){return e>0?n.a.createElement(g.a,{htmlColor:t?"#009090":E}):e<0?n.a.createElement(x.a,{htmlColor:t?E:"#009090"}):n.a.createElement(k.a,{htmlColor:"#efdea4"})}(t,e.reverse))},S=a(482),R=a(483),W=a(480),F=a(487),Z=window.innerWidth<750,B=Z?"horizontal":"vertical",M=Z?window.innerWidth:void 0,z=Z?{top:20,right:10,bottom:30,left:40}:{top:0,right:30,bottom:80,left:60},I={axis:{ticks:{line:{stroke:"#c5c5c5"},text:{fill:"#c5c5c5",fontFamily:"Oswald"}}},labels:{text:{fontFamily:"Oswald",fontWeight:400}},legends:{text:{textShadow:"1px 1px 1px #111",fontFamily:"Oswald"}},grid:{line:{stroke:"#c5c5c5",strokeWidth:1,strokeDasharray:"5 5"}},tooltip:{container:{background:"#333",border:"1px solid ".concat("#c5c5c5"),fontSize:12,textShadow:"1px 1px 1px #111"}}},L=function(e){return v()(e).format("DD MMM")},N=function(e,t,a){return{axis:Z?"y":"x",value:e,lineStyle:{stroke:t,strokeWidth:1},legend:a,textStyle:{fill:"#c5c5c5",fontSize:12,textShadow:"1px 1px 1px #111"}}},A=function(e){return n.a.createElement("div",null,n.a.createElement("p",null,L(e.data.Date)),n.a.createElement("p",{style:{color:"#efdea4"}},"Confirmed: ",e.data.Confirmed),n.a.createElement("p",{style:{color:"#ff7f7f"}},"Deaths: ",e.data.Deaths),n.a.createElement("p",{style:{color:"#009090"}},"Recovered: ",e.data.Recovered))},G=function(e){return"Confirmed"===e.data.id?"black":"white"},H=Z?void 0:{tickRotation:45,format:L},J=Z?{}:void 0,X=Z?{tickRotation:45,format:L}:void 0,Y=[{id:"total",label:"Total"},{id:"growth",label:"Growth"}].map((function(e,t){return n.a.createElement(R.a,{key:t,value:e.id},e.label)})),V=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"renderChart",value:function(){var e=n.a.createElement(y.a,{data:this.props.data,keys:["Recovered","Deaths","Confirmed"],colors:["#009090","#ff7f7f","#efdea4"],indexBy:"Date",layout:B,labelSkipHeight:10,labelSkipWidth:10,enableGridX:Z,enableGridY:!Z,margin:z,theme:I,axisBottom:H,axisLeft:X,axisTop:J,labelTextColor:G,markers:[N(Z?"2020-03-03T00:00:00Z":"2020-03-04T00:00:00Z","#009090","First recoveries"),N(Z?"2020-03-15T00:00:00Z":"2020-03-16T00:00:00Z","#efdea4","Emergency state"),N(Z?"2020-03-21T00:00:00Z":"2020-03-22T00:00:00Z","#ff7f7f","First deaths"),N(Z?"2020-03-24T00:00:00Z":"2020-03-25T00:00:00Z","#efdea4","Full lockdown")],tooltip:A,legends:[{itemTextColor:"#c5c5c5",dataFrom:"keys",anchor:"bottom",direction:"row",translateX:0,translateY:70,itemsSpacing:0,itemWidth:80,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:10,effects:[{on:"hover",style:{itemOpacity:1}}]}]});return n.a.createElement("div",{className:"chart",style:{height:600,width:M}},(this.props.type,e))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h3",null,"2020 Romanian COVID-19 cases"),n.a.createElement("div",{style:{margin:5}},n.a.createElement(W.a,{style:{minWidth:Z?"50%":120,textAlign:"left"}},n.a.createElement(F.a,{id:"type-label"},"Summary type"),n.a.createElement(S.a,{labelId:"type-label",value:this.props.type,children:Y,onChange:this.props.onTypeChange})),n.a.createElement(j,{text:"Latest confirmed",currentCount:this.props.current.Confirmed,previousCount:this.props.previous.Confirmed}),n.a.createElement(j,{text:"Latest deaths",currentCount:this.props.current.Deaths,previousCount:this.props.previous.Deaths}),n.a.createElement(j,{reverse:!0,text:"Latest recovered",currentCount:this.props.current.Recovered,previousCount:this.props.previous.Recovered})),this.renderChart())}}]),a}(n.a.Component),$=a(247),q=a(481),K=Object($.a)({palette:{primary:{dark:"#efdea4",light:"#efdea4",main:"#efdea4"},type:"dark",text:{primary:"#c5c5c5"},background:{}},typography:{fontFamily:["Oswald"].join(",")}}),P=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={data:[],current:{},previous:{},rawConfirmed:[],rawRecovered:[],rawDeaths:[],chartType:"growth"},r.onTypeChange=r.onTypeChange.bind(Object(h.a)(r)),r}return Object(u.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e)}},{key:"componentWillMount",value:function(){this.getData()}},{key:"parseData",value:function(){var e=this,t="total"===this.state.chartType,a=this.state.rawConfirmed.map((function(a,r){var n=Object.assign({},a);return n.Confirmed=!t&&r>0?e.state.rawConfirmed[r].Cases-e.state.rawConfirmed[r-1].Cases:e.state.rawConfirmed[r].Cases,n.Recovered=!t&&r>0?e.state.rawRecovered[r].Cases-e.state.rawRecovered[r-1].Cases:e.state.rawRecovered[r].Cases,n.Deaths=!t&&r>0?e.state.rawDeaths[r].Cases-e.state.rawDeaths[r-1].Cases:e.state.rawDeaths[r].Cases,n})),r=Object.assign({},a[a.length-1]),n=Object.assign({},a[a.length-2]);a.push({Date:v()().add(1,"d").toString()}),this.setState({data:a,current:r,previous:n})}},{key:"onTypeChange",value:function(e){this.setState({chartType:e.target.value}),this.parseData()}},{key:"getData",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,r,n,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.covid19api.com/country/romania/status/confirmed/live");case 2:return t=e.sent,e.next=5,fetch("https://api.covid19api.com/country/romania/status/recovered/live");case 5:return a=e.sent,e.next=8,fetch("https://api.covid19api.com/country/romania/status/deaths/live");case 8:return r=e.sent,e.next=11,t.json();case 11:return n=e.sent,e.next=14,a.json();case 14:return o=e.sent,e.next=17,r.json();case 17:i=e.sent,this.setState({rawConfirmed:n,rawRecovered:o,rawDeaths:i}),this.parseData();case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(q.a,{theme:K},n.a.createElement("div",{className:"App"},n.a.createElement(V,{data:this.state.data,current:this.state.current,previous:this.state.previous,onTypeChange:this.onTypeChange,type:this.state.chartType}),n.a.createElement("div",{className:"footer"},"By Andrei Bucin")))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[284,1,2]]]);
//# sourceMappingURL=main.60f00cd1.chunk.js.map